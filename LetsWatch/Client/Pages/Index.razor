@page "/"

<PageTitle>Let's watch</PageTitle>

<div class="p-4 vh-90">
    @if (_loggedIn)
    {
        <div class="d-flex flex-column h-100">
            <div class="d-flex flex-grow-1 align-items-center">
                <div class="card border-primary admin-max-width mx-auto">
                    <div class="card-body">
                        <h4 class="card-title m-0">Admin panel</h4>
                        <div>
                            <div class="mx-1">
                                <label class="col-form-label col-form-label-sm">Title</label>
                                <input class="form-control form-control-sm" type="text" placeholder="Title">
                            </div>
                            <div class="d-flex justify-content-center">
                                <div class="mx-1 mt-1">
                                    <label class="col-form-label col-form-label-sm">Hours</label>
                                    <input class="form-control form-control-sm" type="text" placeholder="Hours">
                                </div>
                                <div class="mx-1 mt-1">
                                    <label class="col-form-label col-form-label-sm">Minutes</label>
                                    <input class="form-control form-control-sm" type="text" placeholder="Minutes">
                                </div>
                                <div class="mx-1 mt-1">
                                    <label class="col-form-label col-form-label-sm">Seconds</label>
                                    <input class="form-control form-control-sm" type="text" placeholder="Seconds">
                                </div>
                            </div>
                            <div class="mt-3 mx-1 ">
                                <button type="button" class="btn btn-success">Update</button>
                            </div>
                            <div class="mt-4 d-flex align-bottom">
                                <div class="w-100">
                                    <label class="col-form-label col-form-label-sm">User link</label>
                                    <input class="form-control form-control-sm" type="text" placeholder="User link" readonly="">
                                </div>
                                <div class="ms-2 mt-auto">
                                    <button type="button" class="btn btn-info">Copy</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="d-flex flex-column flex-grow-1 h-100 justify-content-center">
            <div class="mx-auto">
                <input @oninput="OnCode" type="text" placeholder="Code">
            </div>
        </div>
    }
</div>

@code {
    private bool _loggedIn = false;

    public Guid AdminSession { get; set; } = Guid.NewGuid();
    public Guid UserSession { get; set; } = Guid.NewGuid();
    public string Title { get; set; }

    public void OnCode(ChangeEventArgs changeEventArgs)
    {
        if ((changeEventArgs.Value as string) == "foo")
        {
            _loggedIn = true;
        }
    }
}
